# Super Candles

## TradeStats

![image](https://data.moex.com/static/media/countImages1.1397ae4537045b734e11.png)
### price
|   | Описание                                                |
|---------|-----------------------------------------------------------|
| **pr_open** | Цена открытия — цена первой сделки за период              |
| **pr_high** | Максимальная цена за период — самая высокая цена сделки   |
| **pr_low**  | Минимальная цена за период — самая низкая цена сделки     |
| **pr_close**| Последняя цена — цена последней совершенной сделки        |
| **pr_vwap** | Средневзвешенная цена — средняя цена сделок с учетом объема|

Пример:
> *было совершено 3 сделки:*

![image](https://data.moex.com/static/media/countImages2.61784b90734fe9572c9f.png)

### vwap
|         | Описание                                                      |
|---------|------------------------------------------------------------------|
| **pr_vwap_b** | Средневзвешенная цена покупки — это средняя цена покупки, весом которых является объем соответствующих сделок|
|**pr_vwap_s** | Средневзвешенная продажи — это средняя цена продажи, весом которых является объем соответствующих сделок |

    pr_vwap_b = val_b / vol_b
Пример:
> *есть 2 сделки на покупку: 100 акций по 10 рублей и 200 акций по 20 рублей, тогда:*

    pr_vwap_b = (100*10 + 200*20) / (100 + 200) = 16.67 ₽
    

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **pr_change** | Изменение цены за период — это разница между ценой закрытия и ценой открытия|

    pr_change = 100 * (pr_close - pr_open) / pr_open	
    
![image](https://data.moex.com/static/media/countImages3.1114024a8227a9effd21.png)

### trades
|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **trades**| Количество сделок - это общее число сделок, совершенных за период|

	trades = trades_b + trades_s

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **trades**| Количество сделок - это общее число сделок, совершенных за период|


|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **trades_b**| Количество сделок совершенных на покупку за период|
| **trades_s**| Количество сделок совершенных на продажу за период|

### vol
|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **vol**| Объем в лотах бумаг — это количество лотов, которые были куплены или проданы за период|

	vol = vol_b + vol_s


|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **vol_b**| Объем покупок в лотах бумаг— это количество бумаг, которые были куплены за определенный период|
| **vol_s**| Объем продаж в лотах бумаг— это количество бумаг, которые были проданы за определенный период|

![image](https://data.moex.com/static/media/countImages4.0883bb07011f2a9a9801.png)

### val
|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **val**| Объем в рублях — это общая стоимость всех сделок, совершенных за определенный период|

	val = val_b + val_s

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **val_b**| Объем покупок в рублях — это общая стоимость всех сделок на покупку, совершенных за определенный период|
| **val_s**| Объем продаж в рублях — это общая стоимость всех сделок на продажу, совершенных за определенный период|

![image](https://data.moex.com/static/media/countImages5.4145ff20b6e69a15f369.png)


|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **disb**| Соотношение объема продавец/покупатель — это отношение объема продаж к объему покупок. 1 - (100% покупки) / 0 - (покупки = продажи) / -1 - (100% продажи)|

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **pr_std**| Стандартное отклонение цены в долях — это мера волатильности, показывающая, насколько сильно цена акции изменяется за определенный период в процентах.|

![image](https://data.moex.com/static/media/countImages6.6c5516a3fdbfea326845.png)


## OrderStats

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **put_orders**| Количество поставленных сделок|
| **cancel_orders**| Количество отмененных сделок|
| **put_orders_b**| Количество заявок на покупку, поставленных в стакан|
| **put_orders_s**| Количество заявок на продажу, поставленных в стакан|
| **cancel_orders_b**| Количество снятых заявок на покупку|
| **cancel_orders_s**| Количество снятых заявок на продажу|

### vol

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **put_vol**| Объем заявок, поставленных в стакан|
| **cancel_vol**| Объем заявок, снятых из стакана|
| **put_vol_b**| Объем заявок на покупку, поставленных в стакан|
| **put_vol_s**| Объем заявок на продажу, поставленных в стакан|
| **cancel_vol_b**| Объем снятых заявок на покупку|
| **cancel_vol_s**| Объем снятых заявок на продажу|

![image](https://data.moex.com/static/media/countImages7.a35e7cd52b20d7e291bd.png)

### val

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **put_val**| Объем заявок, поставленных в стакан (₽)|
| **cancel_val**| Объем заявок, снятых в стакан (₽)|
```
put_val = put_val_b + put_val_s
```
	
```
cancel_val = cancel_val_b + cancel_val_s
```

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **put_val_b**| Объем заявок на покупку, поставленных в стакан (₽)|
| **put_val_s**| Объем заявок на продажу, поставленных в стакан (₽)|
| **cancel_val_b**| Объем снятых заявок на покупку выраженный в рублях|
| **cancel_val_s**| Объем снятых заявок на продажу выраженный в рублях|

![image](https://data.moex.com/static/media/countImages8.36a645eacc86af187690.png)

### vwap
#### Средневзвешенная цена — это средняя цена заявок, весом которых является объем заявок

> *Было выставлено 3 заявки*

![image](https://data.moex.com/static/media/countImages9.759eabb7bbdaf875301e.png)

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **put_vwap_b**| Средневзвешенная цена выставленных заявок на покупку — это средняя цена заявки покупки, весом которой является объем соответствующих сделок.|
| **put_vwap_s**| Средневзвешенная цена выставленных заявок на продажу — это средняя цена заявки продажи, весом которой является объем соответствующих сделок.|
| **cancel_vwap_b**| Средневзвешенная цена отмененных заявок на покупку — это средняя цена заявки покупки, весом которой является объем соответствующих сделок.|
| **cancel_vwap_s**| Средневзвешенная цена отмененных заявок на продажу — это средняя цена заявки продажи, весом которой является объем соответствующих сделок.|

```
put_vwap_b = put_val_b / put_vol_b
```

Пример:
> *Есть 2 сделки на покупку: 100 акций по 10 рублей и 200 акций по 20 рублей, тогда:*
```
put_vwap_b = (100*10 + 200*20) / (100 + 200) = 16.67 ₽
```

## ORDERBOOK STATS
### spread
![image](https://data.moex.com/static/media/countImages10.04dd95089e95fc2d2306.png)

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **spread_bbo**| Это разница между лучшей ценой продажи (best ask) и лучшей ценой покупки (best bid) в базисных пунктах. В таком формате спред можно сравнивать по бумагам вне зависимости от цен. Метрика важна для понимания текущего состояния рынка, так как показывает, насколько близки покупатели и продавцы по своим ожиданиям относительно цены. Используется для измерения ликвидности рынка — чем меньше спред, тем выше ликвидность. |
| **spread_lv10**| Это разница между ценами покупки и продажи на десятом уровне. Показывает, насколько сильно цены различаются на глубине стакана заявок в базисных пунктах. В таком формате спред можно сравнивать по бумагам вне зависимости от цен.|
| **spread_1mio**| Это спред на сумму в 1 млн ₽ в базисных пунктах. Эта метрика показывает, какова будет разница в ценах покупки и продажи при сделке на указанную сумму. Это позволяет оценить ликвидность рынка при крупных сделках.|

Пример:

> *Если для покупки активов на сумму 1 млн ₽ средневзвешенная цена равна 100 ₽, а для продажи — 102 ₽, тогда:*

```
spread_1mio = (102 – 100)/100 = 2 ₽.
```

### levels
![image](https://data.moex.com/static/media/countImages11.e9f8b4a55409aa2c2d53.png)

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **levels_b**| Это количество уровней цен в стакане для покупки.|
| **levels_s**| Это количество уровней цен в стакане для продажи.|

> *Большое количество уровней обычно означает большую ликвидность и глубину рынка. Просто подсчитывается количество уровней цен в стакане для покупки и продажи. Например, если в стакане 10 различных цен для покупки, то levels_b = 10.*

### vol
![image](https://data.moex.com/static/media/countImages12.616bd0e18349428b1f58.png)
|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **vol_b**| Это совокупный объем заявок в стакане на всех уровнях для покупки. |
| **vol_s**| Это совокупный объем заявок в стакане на всех уровнях для продажи.|

> *Метрика показывает общее количество активов, которые трейдеры хотят купить/продать. Это дает представление о потенциальной активности на рынке.*

Пример:

> *Есть 3 заявки на покупку объёмами 100, 200 и 300 акций, то*

```
Vol_b = 100 + 200 + 300 = 600 акций.
```

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **spread_bbo**| Это дисбаланс объема по лучшим ценам. Метрика показывает разницу между объемом активов, которые трейдеры хотят купить и продать по лучшим ценам. Указывает на отклонение в предложении и спросе. Отрицательное значение свидетельствует о преобладании продавцов.|

### val
![image](https://data.moex.com/static/media/countImages13.c6d1458bc50bf373ae43.png)
|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **val_b**| Это совокупный объем заявок в стакане на всех уровнях для покупки, выраженный в рублях. |
| **val_s**| Это совокупный объем заявок в стакане на всех уровнях для продажи, выраженный в рублях.|

> *Эта метрика показывает общую стоимость всех активов, которые трейдеры хотят купить/продать*

Пример:

> *Есть 2 заявки на покупку: 100 акций по 10 ₽ и 200 акций по 20 ₽, то*
```
val_b = 100*10 + 200*20 = 5000 ₽
```

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **imbalance_val_bbo**| Это дисбаланс объема в рублях по лучшим ценам. Метрика показывает разницу в стоимости активов, которые трейдеры хотят купить и продать по лучшим ценам. Отрицательное значение свидетельствует о преобладании продавцов.|

### imbalance
![image](https://data.moex.com/static/media/countImages14.616bd0e18349428b1f58.png)

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **imbalance_vol**| Это разница между совокупными объемами покупки и продажи на всех уровнях стакана (разница между b_vol и s_vol). Позволяет оценить разницу между объемами покупки и продажи на всех уровнях стакана. Может указывать на общий дисбаланс на рынке. Отрицательное значение свидетельствует о преобладании продавцов.|
| **imbalance_vol_bbo**| Это дисбаланс объема по лучшим ценам. Метрика показывает разницу между объемом активов, которые трейдеры хотят купить и продать по лучшим ценам. Указывает на отклонение в предложении и спросе. Отрицательное значение свидетельствует о преобладании продавцов.|
| **imbalance_val**| Это разница между совокупными объемами покупки и продажи на всех уровнях стакана, выраженная в рублях (разница между b_val и s_val). Позволяет оценить разницу между объемами покупки и продажи в денежном эквиваленте на всех уровнях стакана. Отрицательное значение свидетельствует о преобладании продавцов.|

![image](https://data.moex.com/static/media/countImages15.c6d1458bc50bf373ae43.png)
|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **imbalance_val_bbo**| Это дисбаланс объема в рублях по лучшим ценам. Метрика показывает разницу в стоимости активов, которые трейдеры хотят купить и продать по лучшим ценам. Отрицательное значение свидетельствует о преобладании продавцов.|

### vwap
![image](https://data.moex.com/static/media/countImages16.31fa4eac84b0a4e41ec2.png)
|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **vwap_b**| Это средневзвешенная цена покупки на всем стакане — сумма произведений цен на соответствующие объемы, делённая на общий объём (b_val/ b_vol).|
| **vwap_s**| Это средневзвешенная цена продажи на всем стакане — сумма произведений цен на соответствующие объемы, делённая на общий объём (s_val/ s_vol).|

> *Показывает, какова средняя цена активов, которые трейдеры хотят купить, с учетом объема каждого заявленного уровня цены. Обычно используется для измерения «средней» цены, по которой активы куплены или проданы.*

Пример:

> *Есть 2 заявки на покупку: 100 акций по 10 ₽ и 200 акций по 20 ₽, тогда*
```
(100*10 + 200*20) / (100 + 200) = 16.67 ₽
```

|         | Описание                                                       |
|---------|-------------------------------------------------------------------|
| **vwap_b_1mio**| Это средневзвешенная цена покупки актива на сумму в 1 млн ₽. |
| **vwap_s_1mio**| Это средневзвешенная цена продажи актива на сумму в 1 млн ₽. |

> *Показывает, какова будет средняя цена активов при покупке на указанную сумму.*

Пример:

> *Есть 4 заявки на покупку: 150 акций по 3000 ₽, 100 акций по 3500 ₽, 50 акций по 4000 ₽ и 25 акций по 4500 ₽. Для расчета необходимо определить, какие заявки понадобятся для набора суммы в 1 млн ₽ ( ∑(vol * price) ), а затем рассчитать средневзвешенную цену для этих заявок, как в примере выше с b_pr_vwap / s_pr_vwap.*

```
vwap_b_1mio = (150 * 3000 + 100 * 3500 + 50 * 4000) / (150 + 100 + 50) = 333.33 ₽
```

